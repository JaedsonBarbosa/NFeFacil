<Page x:Class="NFeFacil.View.ManipulacaoProdutoCompleto"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:DadosBase="using:NFeFacil.View.TelasDadosBase"
      xmlns:VM="using:NFeFacil.ViewModel"
      xmlns:Impostos="using:BibliotecaCentral.ModeloXML.PartesProcesso.PartesNFe.PartesDetalhes.PartesProduto.PartesImpostos"
      xmlns:ImpostosContext="using:NFeFacil.ViewModel.ImpostosProduto"
      xmlns:Conversores="using:NFeFacil.ViewModel.Converters"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      x:Name="root"
      mc:Ignorable="d">
    <Page.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Estilos/GridResponsiva.xaml" />
                <ResourceDictionary Source="Estilos/PivotPrincipal.xaml" />
                <ResourceDictionary Source="Estilos/Tabela.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <Conversores:BoolToVisibility x:Key="visibilidade" />
            <Conversores:EstadoToMunicipios x:Key="obterMunicipio" />
            <Conversores:ModificaValor x:Key="valorAlterado" />
            <Conversores:StringToDateTime x:Key="data" />
            <VM:DadosEstadosParaView x:Key="estados" />
        </ResourceDictionary>
    </Page.Resources>
    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid.ChildrenTransitions>
            <TransitionCollection>
                <EntranceThemeTransition IsStaggeringEnabled="True" />
            </TransitionCollection>
        </Grid.ChildrenTransitions>
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Pivot>
            <PivotItem DataContext="{Binding ProdutoCompleto.Produto}"
                       Header="Dados">
                <ScrollViewer VerticalScrollBarVisibility="Hidden">
                    <StackPanel>
                        <ItemsControl Style="{StaticResource ItensResponsivos}">
                            <TextBox Text="{Binding QuantidadeComercializada, Mode=TwoWay}"
                                     InputScope="Number"
                                     Header="Qtd. comercial" />
                            <TextBox Text="{Binding Seguro, Mode=TwoWay}"
                                     InputScope="Number"
                                     Header="Seguro" />
                            <TextBox Text="{Binding Frete, Mode=TwoWay}"
                                     InputScope="Number"
                                     Header="Frete" />
                            <TextBox Text="{Binding ValorTotal, Mode=TwoWay}"
                                     InputScope="Number"
                                     Header="Total bruto" />
                            <TextBox Text="{Binding XPed, Mode=TwoWay}"
                                     InputScope="Number"
                                     Header="Pedido de compra" />
                            <TextBox Text="{Binding QuantidadeTributada, Mode=TwoWay}"
                                     InputScope="Number"
                                     Header="Qtd. tributária" />
                            <TextBox Text="{Binding Desconto, Mode=TwoWay}"
                                     InputScope="Number"
                                     Header="Desconto" />
                            <TextBox Text="{Binding DespesasAcessórias, Mode=TwoWay}"
                                     InputScope="Number"
                                     Header="Desp. acessórias" />
                            <TextBox Text="{Binding NFCI, Mode=TwoWay}"
                                     InputScope="Number"
                                     Header="Nº de controle da FCI" />
                            <TextBox Text="{Binding NItemPed, Mode=TwoWay}"
                                     InputScope="Number"
                                     Header="Nº do item do pedido" />
                            <ComboBox Header="O valor do item..."
                                      SelectedIndex="{Binding InclusãoTotal, Mode=TwoWay}"
                                      HorizontalAlignment="Stretch">
                                <ComboBoxItem>Não compõe o valor total da NF-e</ComboBoxItem>
                                <ComboBoxItem>compõe o valor total da NF-e</ComboBoxItem>
                            </ComboBox>
                        </ItemsControl>
                        <DadosBase:TelaProduto />
                    </StackPanel>
                </ScrollViewer>
            </PivotItem>
            <PivotItem Header="Tributos">
                <Grid>
                    <Grid.Resources>
                        <ResourceDictionary Source="Estilos/PivotSecundário.xaml" />
                    </Grid.Resources>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <TextBlock Text="Valor total dos tributos"
                               VerticalAlignment="Center" />
                    <TextBox Text="{Binding ProdutoCompleto.impostos.vTotTrib, Mode=TwoWay}"
                             InputScope="Number"
                             Grid.Column="1"
                             Margin="5,0,0,0" />
                    <RadioButton GroupName="TipoImposto"
                                 Content="ICMS"
                                 Grid.Row="1"
                                 IsChecked="{Binding TipoICMSSelecionado, Mode=TwoWay}" />
                    <RadioButton Content="ISSQN"
                                 GroupName="TipoImposto"
                                 Grid.Row="1"
                                 Grid.Column="1"
                                 Margin="5,0,0,0" />
                    <Pivot Grid.Row="2"
                           x:Name="pvtImpostos"
                           Grid.ColumnSpan="2">
                        <PivotItem x:Name="pvtICMS"
                                   IsEnabled="{Binding AtivadopvtICMS}"
                                   Header="ICMS">
                            <Grid>
                                <Grid.DataContext>
                                    <ImpostosContext:ICMSDataContext />
                                </Grid.DataContext>
                                <ScrollViewer VerticalScrollBarVisibility="Hidden">
                                    <StackPanel>
                                        <ComboBox SelectedIndex="{Binding RegimeSelecionado, Mode=TwoWay}"
                                                  Header="Regime"
                                                  HorizontalAlignment="Stretch"
                                                  PlaceholderText="Qual o regime de sua empresa?">
                                            <ComboBoxItem Content="Simples nacional" />
                                            <ComboBoxItem Content="Regime normal" />
                                        </ComboBox>
                                        <StackPanel Visibility="{Binding GrupoSimplesNacional, Converter={StaticResource visibilidade}}">
                                            <ComboBox SelectedValue="{Binding TipoICMSSimplesNacional, Mode=TwoWay}"
                                                      SelectedValuePath="Content"
                                                      HorizontalAlignment="Stretch"
                                                      Header="Situação tributária">
                                                <ComboBoxItem>101. Tributada com permissão de crédito</ComboBoxItem>
                                                <ComboBoxItem>102. Tributada sem permissão de crédito</ComboBoxItem>
                                                <ComboBoxItem>103. Isenção para faixa de receita bruta</ComboBoxItem>
                                                <ComboBoxItem>201. Tributada com permissão de crédito e com cobrança do ICMS por subst. tributária</ComboBoxItem>
                                                <ComboBoxItem>202. Tributada sem permissão de crédito e com cobrança do ICMS por subst. tributária</ComboBoxItem>
                                                <ComboBoxItem>203. Isenção para faixa de receita bruta e com cobrança do ICMS por subst. tributária</ComboBoxItem>
                                                <ComboBoxItem>300. Imune</ComboBoxItem>
                                                <ComboBoxItem>400. Não tributada</ComboBoxItem>
                                                <ComboBoxItem>500. ICMS cobrado anteriormente por subst. tributária ou por antecipação</ComboBoxItem>
                                                <ComboBoxItem>900. Outros</ComboBoxItem>
                                            </ComboBox>
                                            <ComboBox SelectedIndex="{Binding Simples.orig, Mode=TwoWay}"
                                                      Header="Origem"
                                                      HorizontalAlignment="Stretch">
                                                <ComboBoxItem>0 - Nacional, exceto as indicadas nos códigos 3, 4, 5 e 8</ComboBoxItem>
                                                <ComboBoxItem>1 - Estrangeira - Importação direta, exceto a indicada no código 6</ComboBoxItem>
                                                <ComboBoxItem>2 - Estrangeira - Adquirida no mercado interno, exceto a indicada no código 7</ComboBoxItem>
                                                <ComboBoxItem>3 - Nacional, mercadoria ou bem com Conteúdo de Importação superior a 40% e inferior ou igual a 70%</ComboBoxItem>
                                                <ComboBoxItem>4 - Nacional, cuja produção tenha sido feita em conformidade com os processos produtivos básicos de que tratam as legislações citadas nos Ajustes</ComboBoxItem>
                                                <ComboBoxItem>5 - Nacional, mercadoria ou bem com Conteúdo de Importação inferior ou igual a 40%</ComboBoxItem>
                                                <ComboBoxItem>6 - Estrangeira - Importação direta, sem similar nacional, constante em lista da CAMEX e gás natural</ComboBoxItem>
                                                <ComboBoxItem>7 - Estrangeira - Adquirida no mercado interno, sem similar nacional, constante lista CAMEX e gás natural</ComboBoxItem>
                                                <ComboBoxItem>8 - Nacional, mercadoria ou bem com Conteúdo de Importação superior a 70%</ComboBoxItem>
                                            </ComboBox>
                                            <TextBox Visibility="{Binding SimplesGrupoFim, Converter={StaticResource visibilidade}}"
                                                     Text="{Binding Simples.pCredSN, Mode=TwoWay}"
                                                     Header="Alíquota aplicável de cálculo do crédito"
                                                     InputScope="Number" />
                                            <TextBox Visibility="{Binding SimplesGrupoFim, Converter={StaticResource visibilidade}}"
                                                     Text="{Binding Simples.vCredICMSSN, Mode=TwoWay}"
                                                     Header="Crédito do ICMS que pode ser aproveitado"
                                                     InputScope="Number" />
                                            <ComboBox Visibility="{Binding SimplesGrupoInicio, Converter={StaticResource visibilidade}}"
                                                      SelectedIndex="{Binding Simples.modBCST, Mode=TwoWay}"
                                                      Header="Modalidade de determinação da BC do ICMS"
                                                      HorizontalAlignment="Stretch">
                                                <ComboBoxItem>Margem Valor Agregado (%)</ComboBoxItem>
                                                <ComboBoxItem>Pauta (Valor)</ComboBoxItem>
                                                <ComboBoxItem>Preço Tabelado Máx (valor)</ComboBoxItem>
                                                <ComboBoxItem>Valor da operação</ComboBoxItem>
                                            </ComboBox>
                                            <TextBox Visibility="{Binding SimplesGrupoInicio, Converter={StaticResource visibilidade}}"
                                                     Text="{Binding Simples.vBC, Mode=TwoWay}"
                                                     Header="Valor da BC do ICMS"
                                                     InputScope="Number" />
                                            <TextBox Visibility="{Binding SimplesGrupoInicio, Converter={StaticResource visibilidade}}"
                                                     Text="{Binding Simples.pRedBC, Mode=TwoWay}"
                                                     Header="Percentual da Redução de BC"
                                                     InputScope="Number" />
                                            <TextBox Visibility="{Binding SimplesGrupoInicio, Converter={StaticResource visibilidade}}"
                                                     Text="{Binding Simples.pICMS, Mode=TwoWay}"
                                                     Header="Alíquota do imposto"
                                                     InputScope="Number" />
                                            <TextBox Visibility="{Binding SimplesGrupoInicio, Converter={StaticResource visibilidade}}"
                                                     Text="{Binding Simples.vICMS, Mode=TwoWay}"
                                                     Header="Valor do ICMS"
                                                     InputScope="Number" />
                                            <StackPanel Visibility="{Binding SimplesICMSST, Converter={StaticResource visibilidade}}">
                                                <TextBlock Text="ICMS ST"
                                                           Style="{StaticResource SubtitleTextBlockStyle}" />
                                                <ComboBox SelectedIndex="{Binding Simples.modBCST, Mode=TwoWay}"
                                                          Header="Modalidade de determinação da BC do ICMS ST"
                                                          HorizontalAlignment="Stretch">
                                                    <ComboBoxItem Content="Preço tabelado ou máximo sugerido" />
                                                    <ComboBoxItem Content="Lista negativa (valor)" />
                                                    <ComboBoxItem Content="Lista positiva (valor)" />
                                                    <ComboBoxItem Content="Lista neutra (valor)" />
                                                    <ComboBoxItem Content="Margem Valor Agregado (%)" />
                                                    <ComboBoxItem Content="Pauta (valor)" />
                                                </ComboBox>
                                                <TextBox Text="{Binding Simples.pMVAST, Mode=TwoWay}"
                                                         Header="Percentual da margem de valor adicionado"
                                                         InputScope="Number" />
                                                <TextBox Text="{Binding Simples.pRedBCST, Mode=TwoWay}"
                                                         Header="Percentual da Redução de BC"
                                                         InputScope="Number" />
                                                <TextBox Text="{Binding Simples.vBCST, Mode=TwoWay}"
                                                         Header="Valor da BC"
                                                         InputScope="Number" />
                                                <TextBox Text="{Binding Simples.pICMSST, Mode=TwoWay}"
                                                         Header="Alíquota do imposto"
                                                         InputScope="Number" />
                                                <TextBox Text="{Binding Simples.vICMSST, Mode=TwoWay}"
                                                         Header="Valor do ICMS ST"
                                                         InputScope="Number" />
                                            </StackPanel>
                                        </StackPanel>
                                        <StackPanel Visibility="{Binding GrupoRegimeNormal, Converter={StaticResource visibilidade}}">
                                            <ComboBox SelectedValue="{Binding TipoICMSRegimeNormal, Mode=TwoWay}"
                                                      SelectedValuePath="Content"
                                                      Header="Situação tributária"
                                                      HorizontalAlignment="Stretch">
                                                <ComboBoxItem>00. Tributada integralmente</ComboBoxItem>
                                                <ComboBoxItem>10. Tributada e com cobrança do ICMS por substituição tributária</ComboBoxItem>
                                                <ComboBoxItem>20. Com redução de base de cálculo</ComboBoxItem>
                                                <ComboBoxItem>30. Isenta ou não tributada e com cobrança do ICMS por substituição tributária</ComboBoxItem>
                                                <ComboBoxItem>40. Isenta</ComboBoxItem>
                                                <ComboBoxItem>41. Não tributada</ComboBoxItem>
                                                <ComboBoxItem>50. Suspensão</ComboBoxItem>
                                                <ComboBoxItem>51. Diferimento</ComboBoxItem>
                                                <ComboBoxItem>60. ICMS cobrado anteriormente por substituição tributária</ComboBoxItem>
                                                <ComboBoxItem>70. Com redução de base de cálculo e cobrança do ICMS por substituição tributária</ComboBoxItem>
                                                <ComboBoxItem>90. Outros</ComboBoxItem>
                                            </ComboBox>
                                            <ComboBox SelectedIndex="{Binding Normal.orig, Mode=TwoWay}"
                                                      Header="Origem"
                                                      HorizontalAlignment="Stretch">
                                                <ComboBoxItem>0 - Nacional, exceto as indicadas nos códigos 3, 4, 5 e 8</ComboBoxItem>
                                                <ComboBoxItem>1 - Estrangeira - Importação direta, exceto a indicada no código 6</ComboBoxItem>
                                                <ComboBoxItem>2 - Estrangeira - Adquirida no mercado interno, exceto a indicada no código 7</ComboBoxItem>
                                                <ComboBoxItem>3 - Nacional, mercadoria ou bem com Conteúdo de Importação superior a 40% e inferior ou igual a 70%</ComboBoxItem>
                                                <ComboBoxItem>4 - Nacional, cuja produção tenha sido feita em conformidade com os processos produtivos básicos de que tratam as legislações citadas nos Ajustes</ComboBoxItem>
                                                <ComboBoxItem>5 - Nacional, mercadoria ou bem com Conteúdo de Importação inferior ou igual a 40%</ComboBoxItem>
                                                <ComboBoxItem>6 - Estrangeira - Importação direta, sem similar nacional, constante em lista da CAMEX e gás natural</ComboBoxItem>
                                                <ComboBoxItem>7 - Estrangeira - Adquirida no mercado interno, sem similar nacional, constante lista CAMEX e gás natural</ComboBoxItem>
                                                <ComboBoxItem>8 - Nacional, mercadoria ou bem com Conteúdo de Importação superior a 70%</ComboBoxItem>
                                            </ComboBox>
                                            <TextBox Visibility="{Binding NormalValorICMSDesonerado, Converter={StaticResource visibilidade}}"
                                                     Text="{Binding Normal.vICMSDeson, Mode=TwoWay}"
                                                     Header="Valor do ICMS desonerado"
                                                     InputScope="Number" />
                                            <TextBox Visibility="{Binding NormalMotivoDesoneração, Converter={StaticResource visibilidade}}"
                                                     Text="{Binding Normal.motDesICMS, Mode=TwoWay}"
                                                     Header="Motivo da desoneração do ICMS"
                                                     InputScope="Number"
                                                     ToolTipService.ToolTip="3 p/ agropecuária; 9 p/ outros e 12 p/ fomento e desenv. agropecuário." />
                                            <ComboBox Visibility="{Binding NormalGrupoInicio, Converter={StaticResource visibilidade}}"
                                                      SelectedIndex="{Binding Normal.modBC, Mode=TwoWay}"
                                                      Header="Modalidade de determinação da BC do ICMS"
                                                      HorizontalAlignment="Stretch">
                                                <ComboBoxItem>Margem Valor Agregado (%)</ComboBoxItem>
                                                <ComboBoxItem>Pauta (Valor)</ComboBoxItem>
                                                <ComboBoxItem>Preço Tabelado Máx (valor)</ComboBoxItem>
                                                <ComboBoxItem>Valor da operação</ComboBoxItem>
                                            </ComboBox>
                                            <TextBox Visibility="{Binding NormalGrupoInicio, Converter={StaticResource visibilidade}}"
                                                     Text="{Binding Normal.vBC, Mode=TwoWay}"
                                                     Header="Valor da BC do ICMS"
                                                     InputScope="Number" />
                                            <TextBox Visibility="{Binding NormalPercentualReduçãoNormal, Converter={StaticResource visibilidade}}"
                                                     Text="{Binding Normal.pRedBC, Mode=TwoWay}"
                                                     Header="Percentual da Redução de BC"
                                                     InputScope="Number" />
                                            <TextBox Visibility="{Binding NormalGrupoInicio, Converter={StaticResource visibilidade}}"
                                                     Text="{Binding Normal.pICMS, Mode=TwoWay}"
                                                     Header="Alíquota do imposto"
                                                     InputScope="Number" />
                                            <TextBox Visibility="{Binding NormalGrupoInicio, Converter={StaticResource visibilidade}}"
                                                     Text="{Binding Normal.vICMS, Mode=TwoWay}"
                                                     Header="Valor do ICMS"
                                                     InputScope="Number" />
                                            <TextBox Visibility="{Binding NormalGrupoMeio, Converter={StaticResource visibilidade}}"
                                                     Text="{Binding Normal.vBCSTRet, Mode=TwoWay}"
                                                     Header="Valor da BC do ICMS ST retido"
                                                     InputScope="Number" />
                                            <TextBox Visibility="{Binding NormalGrupoMeio, Converter={StaticResource visibilidade}}"
                                                     Text="{Binding Normal.vICMSSTRet, Mode=TwoWay}"
                                                     Header="Valor do ICMS ST retido"
                                                     InputScope="Number" />
                                            <TextBox Visibility="{Binding NormalGrupoFim, Converter={StaticResource visibilidade}}"
                                                     Text="{Binding Normal.vICMSOp, Mode=TwoWay}"
                                                     Header="Valor do ICMS da Operação"
                                                     InputScope="Number" />
                                            <TextBox Visibility="{Binding NormalGrupoFim, Converter={StaticResource visibilidade}}"
                                                     Text="{Binding Normal.pDif, Mode=TwoWay}"
                                                     Header="Percentual do diferimento"
                                                     InputScope="Number" />
                                            <TextBox Visibility="{Binding NormalGrupoFim, Converter={StaticResource visibilidade}}"
                                                     Text="{Binding Normal.vICMSDif, Mode=TwoWay}"
                                                     Header="Valor do ICMS diferido"
                                                     InputScope="Number" />
                                            <StackPanel Visibility="{Binding NormalICMSSTNormal, Converter={StaticResource visibilidade}}">
                                                <TextBlock Text="ICMS ST"
                                                           Style="{StaticResource SubtitleTextBlockStyle}" />
                                                <ComboBox SelectedIndex="{Binding Normal.modBCST, Mode=TwoWay}"
                                                          Header="Modalidade de determinação da BC do ICMS ST"
                                                          HorizontalAlignment="Stretch">
                                                    <ComboBoxItem Content="Preço tabelado ou máximo sugerido" />
                                                    <ComboBoxItem Content="Lista negativa (valor)" />
                                                    <ComboBoxItem Content="Lista positiva (valor)" />
                                                    <ComboBoxItem Content="Lista neutra (valor)" />
                                                    <ComboBoxItem Content="Margem Valor Agregado (%)" />
                                                    <ComboBoxItem Content="Pauta (valor)" />
                                                </ComboBox>
                                                <TextBox Text="{Binding Normal.pMVAST, Mode=TwoWay}"
                                                         Header="Percentual da margem de valor adicionado"
                                                         InputScope="Number" />
                                                <TextBox Text="{Binding Normal.pRedBCST, Mode=TwoWay}"
                                                         Header="Percentual da Redução de BC"
                                                         InputScope="Number" />
                                                <TextBox Text="{Binding Normal.vBCST, Mode=TwoWay}"
                                                         Header="Valor da BC"
                                                         InputScope="Number" />
                                                <TextBox Text="{Binding Normal.pICMSST, Mode=TwoWay}"
                                                         Header="Alíquota do imposto"
                                                         InputScope="Number" />
                                                <TextBox Text="{Binding Normal.vICMSST, Mode=TwoWay}"
                                                         Header="Valor do ICMS ST"
                                                         InputScope="Number" />
                                            </StackPanel>
                                        </StackPanel>
                                    </StackPanel>
                                </ScrollViewer>
                            </Grid>
                        </PivotItem>
                        <PivotItem Header="IPI">
                            <Grid>
                                <Grid.DataContext>
                                    <ImpostosContext:IPIDataContext />
                                </Grid.DataContext>
                                <ScrollViewer VerticalScrollBarVisibility="Hidden">
                                    <StackPanel>
                                        <ComboBox Header="Situação tributária"
                                                  HorizontalAlignment="Stretch"
                                                  Margin="2,0,0,0"
                                                  SelectedValue="{Binding CSTSelecionado, Mode=TwoWay}"
                                                  SelectedValuePath="Content">
                                            <ComboBoxItem>00=Entrada com recuperação de crédito</ComboBoxItem>
                                            <ComboBoxItem>01=Entrada tributada com alíquota zero</ComboBoxItem>
                                            <ComboBoxItem>02=Entrada isenta</ComboBoxItem>
                                            <ComboBoxItem>03=Entrada não-tributada</ComboBoxItem>
                                            <ComboBoxItem>04=Entrada imune</ComboBoxItem>
                                            <ComboBoxItem>05=Entrada com suspensão</ComboBoxItem>
                                            <ComboBoxItem>49=Outras entradas</ComboBoxItem>
                                            <ComboBoxItem>50=Saída tributada</ComboBoxItem>
                                            <ComboBoxItem>51=Saída tributada com alíquota zero</ComboBoxItem>
                                            <ComboBoxItem>52=Saída isenta</ComboBoxItem>
                                            <ComboBoxItem>53=Saída não-tributada</ComboBoxItem>
                                            <ComboBoxItem>54=Saída imune</ComboBoxItem>
                                            <ComboBoxItem>55=Saída com suspensão</ComboBoxItem>
                                            <ComboBoxItem>99=Outras saídas</ComboBoxItem>
                                        </ComboBox>
                                        <ItemsControl Style="{StaticResource ItensResponsivos}">
                                            <TextBox Text="{Binding Imposto.clEnq, Mode=TwoWay}"
                                                     Header="Classe de enquadramento"
                                                     InputScope="Number"
                                                     Margin="0,0,0,5" />
                                            <TextBox Text="{Binding Imposto.CNPJProd, Mode=TwoWay}"
                                                     Header="CNPJ do produtor"
                                                     InputScope="Number"
                                                     Margin="0,0,0,5" />
                                            <TextBox Text="{Binding Imposto.cEnq, Mode=TwoWay}"
                                                     Header="Código de enquadramento"
                                                     Margin="0,0,0,5" />
                                            <TextBox Text="{Binding Imposto.qSelo, Mode=TwoWay}"
                                                     Header="Qtd. do selo de controle"
                                                     InputScope="Number"
                                                     Margin="0,0,0,5" />
                                            <TextBox Header="Código do selo de controle"
                                                     Text="{Binding Imposto.cSelo, Mode=TwoWay}" />
                                        </ItemsControl>
                                        <ItemsControl Visibility="{Binding VisibilidadeIPI, Converter={StaticResource visibilidade}}"
                                                      Style="{StaticResource ItensResponsivos}">
                                            <StackPanel>
                                                <ComboBox HorizontalAlignment="Stretch"
                                                          Header="Tipo de cálculo"
                                                          Margin="0,0,0,5"
                                                          SelectedValue="{Binding TipoCalculo, Mode=TwoWay}"
                                                          SelectedValuePath="Content">
                                                    <ComboBoxItem>Por alíquota</ComboBoxItem>
                                                    <ComboBoxItem>Pelo valor por unidade</ComboBoxItem>
                                                </ComboBox>
                                                <StackPanel Visibility="{Binding CalculoAliquota, Converter={StaticResource visibilidade}}">
                                                    <TextBox Text="{Binding Path=Imposto.Corpo.vBC, Mode=TwoWay}"
                                                             Header="Valor da base de cálculo"
                                                             InputScope="Number"
                                                             Margin="0,0,0,5" />
                                                    <TextBox Text="{Binding Path=Imposto.Corpo.pIPI, Mode=TwoWay}"
                                                             Header="Alíquota"
                                                             InputScope="Number" />
                                                </StackPanel>
                                            </StackPanel>
                                            <StackPanel>
                                                <TextBox Text="{Binding Path=Imposto.Corpo.vIPI, Mode=TwoWay}"
                                                         Header="Valor do IPI"
                                                         InputScope="Number"
                                                         Margin="0,0,0,5" />
                                                <StackPanel Visibility="{Binding CalculoValor, Converter={StaticResource visibilidade}}">
                                                    <TextBox Text="{Binding Path=Imposto.Corpo.qUnid, Mode=TwoWay}"
                                                             Header="Quantidade total"
                                                             InputScope="Number"
                                                             Margin="0,0,0,5" />
                                                    <TextBox Text="{Binding Path=Imposto.Corpo.vUnid, Mode=TwoWay}"
                                                             Header="Valor por unidade"
                                                             InputScope="Number" />
                                                </StackPanel>
                                            </StackPanel>
                                        </ItemsControl>
                                    </StackPanel>
                                </ScrollViewer>
                            </Grid>
                        </PivotItem>
                        <PivotItem Header="PIS">
                            <Grid>
                                <Grid.DataContext>
                                    <ImpostosContext:PISDataContext />
                                </Grid.DataContext>
                                <ScrollViewer VerticalScrollBarVisibility="Hidden">
                                    <StackPanel>
                                        <ComboBox SelectedValue="{Binding CSTSelecionado, Mode=TwoWay}"
                                                  SelectedValuePath="Content"
                                                  Header="Situação tributária"
                                                  HorizontalAlignment="Stretch">
                                            <ComboBoxItem>01=Operação Tributável (base de cálculo = valor da operação alíquota normal (cumulativo/não cumulativo))</ComboBoxItem>
                                            <ComboBoxItem>02=Operação Tributável (base de cálculo = valor da operação (alíquota diferenciada))</ComboBoxItem>
                                            <ComboBoxItem>03=Operação Tributável (base de cálculo = quantidade vendida x alíquota por unidade de Produto)</ComboBoxItem>
                                            <ComboBoxItem>04=Operação Tributável (tributação monofásica (alíquota zero))</ComboBoxItem>
                                            <ComboBoxItem>05=Operação Tributável (Substituição Tributária)</ComboBoxItem>
                                            <ComboBoxItem>06=Operação Tributável (alíquota zero)</ComboBoxItem>
                                            <ComboBoxItem>07=Operação Isenta da Contribuição</ComboBoxItem>
                                            <ComboBoxItem>08=Operação Sem Incidência da Contribuição</ComboBoxItem>
                                            <ComboBoxItem>09=Operação com Suspensão da Contribuição</ComboBoxItem>
                                            <ComboBoxItem>49=Outras Operações de Saída</ComboBoxItem>
                                            <ComboBoxItem>50=Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno</ComboBoxItem>
                                            <ComboBoxItem>51=Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Não Tributada no Mercado Interno</ComboBoxItem>
                                            <ComboBoxItem>52=Operação com Direito a Crédito – Vinculada Exclusivamente a Receita de Exportação</ComboBoxItem>
                                            <ComboBoxItem>53=Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno</ComboBoxItem>
                                            <ComboBoxItem>54=Operação com Direito a Crédito - Vinculada a Receitas Tributadas no Mercado Interno e de Exportação</ComboBoxItem>
                                            <ComboBoxItem>55=Operação com Direito a Crédito - Vinculada a Receitas NãoTributadas no Mercado Interno e de Exportação</ComboBoxItem>
                                            <ComboBoxItem>56=Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação</ComboBoxItem>
                                            <ComboBoxItem>60=Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Tributada no Mercado Interno</ComboBoxItem>
                                            <ComboBoxItem>61=Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Não-Tributada no Mercado Interno</ComboBoxItem>
                                            <ComboBoxItem>62=Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita de Exportação</ComboBoxItem>
                                            <ComboBoxItem>63=Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno</ComboBoxItem>
                                            <ComboBoxItem>64=Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas no Mercado Interno e de Exportação</ComboBoxItem>
                                            <ComboBoxItem>65=Crédito Presumido - Operação de Aquisição Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação</ComboBoxItem>
                                            <ComboBoxItem>66=Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação</ComboBoxItem>
                                            <ComboBoxItem>67=Crédito Presumido - Outras Operações</ComboBoxItem>
                                            <ComboBoxItem>70=Operação de Aquisição sem Direito a Crédito</ComboBoxItem>
                                            <ComboBoxItem>71=Operação de Aquisição com Isenção</ComboBoxItem>
                                            <ComboBoxItem>72=Operação de Aquisição com Suspensão</ComboBoxItem>
                                            <ComboBoxItem>73=Operação de Aquisição a Alíquota Zero</ComboBoxItem>
                                            <ComboBoxItem>74=Operação de Aquisição; sem Incidência da Contribuição</ComboBoxItem>
                                            <ComboBoxItem>75=Operação de Aquisição por Substituição Tributária</ComboBoxItem>
                                            <ComboBoxItem>98=Outras Operações de Entrada</ComboBoxItem>
                                            <ComboBoxItem>99=Outras Operações</ComboBoxItem>
                                        </ComboBox>
                                        <ItemsControl Visibility="{Binding PIS}"
                                                      Style="{StaticResource ItensResponsivos}">
                                            <StackPanel>
                                                <ComboBox Visibility="{Binding ComboTipoCalculo}"
                                                          Header="Tipo de cálculo"
                                                          HorizontalAlignment="Stretch"
                                                          Margin="0,0,0,5"
                                                          SelectedValue="{Binding TipoCalculo, Mode=TwoWay}"
                                                          SelectedValuePath="Content">
                                                    <ComboBoxItem>Por alíquota</ComboBoxItem>
                                                    <ComboBoxItem>Pelo valor por unidade</ComboBoxItem>
                                                </ComboBox>
                                                <StackPanel Visibility="{Binding CalculoAliquota}">
                                                    <TextBox Header="Valor da base de cálculo"
                                                             Text="{Binding Path=Imposto.Corpo.vBC, Mode=TwoWay}"
                                                             InputScope="Number"
                                                             Margin="0,0,0,5" />
                                                    <TextBox Header="Alíquota"
                                                             Text="{Binding Path=Imposto.Corpo.pPIS, Mode=TwoWay}"
                                                             InputScope="Number" />
                                                </StackPanel>
                                            </StackPanel>
                                            <StackPanel>
                                                <TextBox Header="Valor do PIS"
                                                         Text="{Binding Path=Imposto.Corpo.vPIS, Mode=TwoWay}"
                                                         InputScope="Number"
                                                         Margin="0,0,0,5" />
                                                <StackPanel Visibility="{Binding CalculoValor}">
                                                    <TextBox Header="Quantidade total"
                                                             Text="{Binding Path=Imposto.Corpo.qBCProd, Mode=TwoWay}"
                                                             InputScope="Number"
                                                             Margin="0,0,0,5" />
                                                    <TextBox Header="Valor por unidade"
                                                             Text="{Binding Path=Imposto.Corpo.vAliqProd, Mode=TwoWay}"
                                                             InputScope="Number" />
                                                </StackPanel>
                                            </StackPanel>
                                        </ItemsControl>
                                        <TextBlock Visibility="{Binding PISST}"
                                                   Style="{StaticResource TitleTextBlockStyle}">PIS ST</TextBlock>
                                        <ItemsControl Visibility="{Binding PISST}"
                                                      Style="{StaticResource ItensResponsivos}"
                                                      Margin="0,10,0,0">
                                            <StackPanel>
                                                <ComboBox SelectedValue="{Binding TipoCalculoST, Mode=TwoWay}"
                                                          SelectedValuePath="Content"
                                                          Header="Tipo de cálculo"
                                                          HorizontalAlignment="Stretch"
                                                          Margin="0,0,0,5">
                                                    <ComboBoxItem>Por alíquota</ComboBoxItem>
                                                    <ComboBoxItem>Pelo valor por unidade</ComboBoxItem>
                                                </ComboBox>
                                                <StackPanel Visibility="{Binding CalculoAliquotaST}">
                                                    <TextBox Header="Valor da base de cálculo"
                                                             Text="{Binding Path=ImpostoST.vBC, Mode=TwoWay}"
                                                             InputScope="Number"
                                                             Margin="0,0,0,5" />
                                                    <TextBox Header="Alíquota"
                                                             Text="{Binding Path=ImpostoST.pPIS, Mode=TwoWay}"
                                                             InputScope="Number" />
                                                </StackPanel>
                                            </StackPanel>
                                            <StackPanel>
                                                <TextBox Text="{Binding Path=ImpostoST.vPIS, Mode=TwoWay}"
                                                         Header="Valor do PIS"
                                                         InputScope="Number"
                                                         Margin="0,0,0,5" />
                                                <StackPanel Visibility="{Binding CalculoValorST}">
                                                    <TextBox Header="Quantidade total"
                                                             Text="{Binding Path=ImpostoST.qBCProd , Mode=TwoWay}"
                                                             InputScope="Number"
                                                             Margin="0,0,0,5" />
                                                    <TextBox Header="Valor por unidade"
                                                             Text="{Binding Path=ImpostoST.vAliqProd, Mode=TwoWay}"
                                                             InputScope="Number" />
                                                </StackPanel>
                                            </StackPanel>
                                        </ItemsControl>
                                    </StackPanel>
                                </ScrollViewer>
                            </Grid>
                        </PivotItem>
                        <PivotItem Header="COFINS">
                            <Grid>
                                <Grid.DataContext>
                                    <ImpostosContext:COFINSDataContext />
                                </Grid.DataContext>
                                <ScrollViewer VerticalScrollBarVisibility="Hidden">
                                    <StackPanel>
                                        <ComboBox x:Name="cmbCST"
                                                  SelectedValue="{Binding CSTSelecionado, Mode=TwoWay}"
                                                  SelectedValuePath="Content"
                                                  Header="Situação tributária"
                                                  HorizontalAlignment="Stretch">
                                            <ComboBoxItem>01=Operação Tributável (base de cálculo = valor da operação alíquota normal (cumulativo/não cumulativo))</ComboBoxItem>
                                            <ComboBoxItem>02=Operação Tributável (base de cálculo = valor da operação (alíquota diferenciada))</ComboBoxItem>
                                            <ComboBoxItem>03=Operação Tributável (base de cálculo = quantidade vendida x alíquota por unidade de Produto)</ComboBoxItem>
                                            <ComboBoxItem>04=Operação Tributável (tributação monofásica (alíquota zero))</ComboBoxItem>
                                            <ComboBoxItem>05=Operação Tributável (Substituição Tributária)</ComboBoxItem>
                                            <ComboBoxItem>06=Operação Tributável (alíquota zero)</ComboBoxItem>
                                            <ComboBoxItem>07=Operação Isenta da Contribuição</ComboBoxItem>
                                            <ComboBoxItem>08=Operação Sem Incidência da Contribuição</ComboBoxItem>
                                            <ComboBoxItem>09=Operação com Suspensão da Contribuição</ComboBoxItem>
                                            <ComboBoxItem>49=Outras Operações de Saída</ComboBoxItem>
                                            <ComboBoxItem>50=Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno</ComboBoxItem>
                                            <ComboBoxItem>51=Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Não Tributada no Mercado Interno</ComboBoxItem>
                                            <ComboBoxItem>52=Operação com Direito a Crédito – Vinculada Exclusivamente a Receita de Exportação</ComboBoxItem>
                                            <ComboBoxItem>53=Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno</ComboBoxItem>
                                            <ComboBoxItem>54=Operação com Direito a Crédito - Vinculada a Receitas Tributadas no Mercado Interno e de Exportação</ComboBoxItem>
                                            <ComboBoxItem>55=Operação com Direito a Crédito - Vinculada a Receitas NãoTributadas no Mercado Interno e de Exportação</ComboBoxItem>
                                            <ComboBoxItem>56=Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação</ComboBoxItem>
                                            <ComboBoxItem>60=Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Tributada no Mercado Interno</ComboBoxItem>
                                            <ComboBoxItem>61=Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Não-Tributada no Mercado Interno</ComboBoxItem>
                                            <ComboBoxItem>62=Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita de Exportação</ComboBoxItem>
                                            <ComboBoxItem>63=Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno</ComboBoxItem>
                                            <ComboBoxItem>64=Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas no Mercado Interno e de Exportação</ComboBoxItem>
                                            <ComboBoxItem>65=Crédito Presumido - Operação de Aquisição Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação</ComboBoxItem>
                                            <ComboBoxItem>66=Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação</ComboBoxItem>
                                            <ComboBoxItem>67=Crédito Presumido - Outras Operações</ComboBoxItem>
                                            <ComboBoxItem>70=Operação de Aquisição sem Direito a Crédito</ComboBoxItem>
                                            <ComboBoxItem>71=Operação de Aquisição com Isenção</ComboBoxItem>
                                            <ComboBoxItem>72=Operação de Aquisição com Suspensão</ComboBoxItem>
                                            <ComboBoxItem>73=Operação de Aquisição a Alíquota Zero</ComboBoxItem>
                                            <ComboBoxItem>74=Operação de Aquisição; sem Incidência da Contribuição</ComboBoxItem>
                                            <ComboBoxItem>75=Operação de Aquisição por Substituição Tributária</ComboBoxItem>
                                            <ComboBoxItem>98=Outras Operações de Entrada</ComboBoxItem>
                                            <ComboBoxItem>99=Outras Operações</ComboBoxItem>
                                        </ComboBox>
                                        <ItemsControl x:Name="grpCOFINS"
                                                      Visibility="{Binding COFINS, Converter={StaticResource visibilidade}}"
                                                      Style="{StaticResource ItensResponsivos}">
                                            <StackPanel>
                                                <ComboBox x:Name="cmbTipoCalculo"
                                                          SelectedValue="{Binding TipoCalculo, Mode=TwoWay}"
                                                          SelectedValuePath="Content"
                                                          Visibility="{Binding ComboTipoCalculo, Converter={StaticResource visibilidade}}"
                                                          Header="Tipo de cálculo"
                                                          HorizontalAlignment="Stretch"
                                                          Margin="0,0,0,5">
                                                    <ComboBoxItem>Por alíquota</ComboBoxItem>
                                                    <ComboBoxItem>Pelo valor por unidade</ComboBoxItem>
                                                </ComboBox>
                                                <StackPanel x:Name="grpCalculoAliquota"
                                                            Visibility="{Binding CalculoAliquota, Converter={StaticResource visibilidade}}">
                                                    <TextBox x:Name="txtVBC"
                                                             Header="Valor da base de cálculo"
                                                             Text="{Binding Path=Imposto.Corpo.vBC, Mode=TwoWay}"
                                                             InputScope="Number"
                                                             Margin="0,0,0,5" />
                                                    <TextBox x:Name="txtPCOFINS"
                                                             Header="Alíquota"
                                                             Text="{Binding Path=Imposto.Corpo.pCOFINS, Mode=TwoWay}"
                                                             InputScope="Number" />
                                                </StackPanel>
                                            </StackPanel>
                                            <StackPanel>
                                                <TextBox x:Name="txtVCOFINS"
                                                         Header="Valor do COFINS"
                                                         Text="{Binding Path=Imposto.Corpo.vCOFINS, Mode=TwoWay}"
                                                         InputScope="Number"
                                                         Margin="0,0,0,5" />
                                                <StackPanel x:Name="grpCalculoValor"
                                                            Visibility="{Binding CalculoValor, Converter={StaticResource visibilidade}}">
                                                    <TextBox x:Name="txtQBCProd"
                                                             Header="Quantidade total"
                                                             Text="{Binding Path=Imposto.Corpo.qBCProd, Mode=TwoWay}"
                                                             InputScope="Number"
                                                             Margin="0,0,0,5" />
                                                    <TextBox x:Name="txtVAliqProd"
                                                             Header="Valor por unidade"
                                                             Text="{Binding Path=Imposto.Corpo.vAliqProd, Mode=TwoWay}"
                                                             InputScope="Number" />
                                                </StackPanel>
                                            </StackPanel>
                                        </ItemsControl>
                                        <TextBlock Visibility="{Binding COFINSST, Converter={StaticResource visibilidade}}"
                                                   Style="{StaticResource TitleTextBlockStyle}">COFINS ST</TextBlock>
                                        <ItemsControl x:Name="grpCOFINSST"
                                                      Visibility="{Binding COFINSST, Converter={StaticResource visibilidade}}"
                                                      Style="{StaticResource ItensResponsivos}">
                                            <StackPanel Margin="0,0,2,0">
                                                <ComboBox x:Name="cmbTipoCalculoST"
                                                          SelectedValue="{Binding TipoCalculoST, Mode=TwoWay}"
                                                          SelectedValuePath="Content"
                                                          Header="Tipo de cálculo"
                                                          HorizontalAlignment="Stretch"
                                                          Margin="0,0,0,5">
                                                    <ComboBoxItem>Por alíquota</ComboBoxItem>
                                                    <ComboBoxItem>Pelo valor por unidade</ComboBoxItem>
                                                </ComboBox>
                                                <StackPanel x:Name="grpCalculoAliquotaST"
                                                            Visibility="{Binding CalculoAliquotaST, Converter={StaticResource visibilidade}}">
                                                    <TextBox x:Name="txtVBCST"
                                                             Header="Valor da base de cálculo"
                                                             Text="{Binding Path=ImpostoST.Corpo.vBC, Mode=TwoWay}"
                                                             InputScope="Number"
                                                             Margin="0,0,0,5" />
                                                    <TextBox x:Name="txtPCOFINSST"
                                                             Header="Alíquota"
                                                             Text="{Binding Path=ImpostoST.Corpo.pCOFINS, Mode=TwoWay}"
                                                             InputScope="Number" />
                                                </StackPanel>
                                            </StackPanel>
                                            <StackPanel>
                                                <TextBox Text="{Binding Path=ImpostoST.Corpo.vCOFINS, Mode=TwoWay}"
                                                         Header="Valor do COFINS"
                                                         InputScope="Number"
                                                         Margin="0,0,0,5" />
                                                <StackPanel Visibility="{Binding CalculoValorST, Converter={StaticResource visibilidade}}">
                                                    <TextBox Header="Quantidade total"
                                                             Text="{Binding Path=ImpostoST.Corpo.qBCProd , Mode=TwoWay}"
                                                             InputScope="Number"
                                                             Margin="0,0,0,5" />
                                                    <TextBox Header="Valor por unidade"
                                                             Text="{Binding Path=ImpostoST.Corpo.vAliqProd, Mode=TwoWay}"
                                                             InputScope="Number" />
                                                </StackPanel>
                                            </StackPanel>
                                        </ItemsControl>
                                    </StackPanel>
                                </ScrollViewer>
                            </Grid>
                        </PivotItem>
                        <PivotItem IsEnabled="{Binding AtivadopvtISSQN}"
                                   Header="ISSQN">
                            <Grid>
                                <Grid.DataContext>
                                    <ImpostosContext:ISSQNDataContext />
                                </Grid.DataContext>
                                <ScrollViewer VerticalScrollBarVisibility="Hidden">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <StackPanel Margin="0,0,2,0">
                                            <TextBox Text="{Binding Imposto.vBC, Mode=TwoWay}"
                                                     Header="Valor da base de cálculo *"
                                                     Margin="0,0,0,5"
                                                     InputScope="Number" />
                                            <TextBox Text="{Binding Imposto.vISSQN, Mode=TwoWay}"
                                                     Header="Valor do ISSQN *"
                                                     Margin="0,0,0,5"
                                                     InputScope="Number" />
                                            <ComboBox SelectedIndex="{Binding Imposto.indISS, ConverterParameter='-1', Converter={StaticResource valorAlterado}}"
                                                      Header="Exigibilidade do ISS *"
                                                      HorizontalAlignment="Stretch"
                                                      Margin="0,0,0,5">
                                                <ComboBoxItem>1=Exigível</ComboBoxItem>
                                                <ComboBoxItem>2=Não incidência</ComboBoxItem>
                                                <ComboBoxItem>3=Isenção</ComboBoxItem>
                                                <ComboBoxItem>4=Exportação</ComboBoxItem>
                                                <ComboBoxItem>5=Imunidade</ComboBoxItem>
                                                <ComboBoxItem>6=Exigibilidade Suspensa por Decisão Judicial</ComboBoxItem>
                                                <ComboBoxItem>7=Exigibilidade Suspensa por Processo Administrativo</ComboBoxItem>
                                            </ComboBox>
                                            <ComboBox x:Name="UFISSQN"
                                                      ItemsSource="{Binding Source={StaticResource estados}, Path=EstadosCompletos}"
                                                      Header="UF *"
                                                      HorizontalAlignment="Stretch"
                                                      Margin="0,0,0,5">
                                                <ComboBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Nome}" />
                                                    </DataTemplate>
                                                </ComboBox.ItemTemplate>
                                            </ComboBox>
                                            <TextBox Text="{Binding Imposto.vDeducao, Mode=TwoWay}"
                                                     Header="Valor das deduções"
                                                     Margin="0,0,0,5"
                                                     InputScope="Number" />
                                            <TextBox Text="{Binding Imposto.vISSRet, Mode=TwoWay}"
                                                     Header="Valor da retenção ISS"
                                                     Margin="0,0,0,5"
                                                     InputScope="Number" />
                                            <TextBox Text="{Binding Imposto.vOutro, Mode=TwoWay}"
                                                     Header="Valor de outras retenções"
                                                     Margin="0,0,0,5"
                                                     InputScope="Number" />
                                        </StackPanel>
                                        <StackPanel Grid.Column="1"
                                                    Margin="2,0,0,0">
                                            <TextBox Text="{Binding Imposto.vAliq, Mode=TwoWay}"
                                                     Header="Alíquota *"
                                                     Margin="0,0,0,5"
                                                     InputScope="Number" />
                                            <TextBox Text="{Binding Imposto.cListServ, Mode=TwoWay}"
                                                     Header="Lista de serviço *"
                                                     Margin="0,0,0,5"
                                                     InputScope="Number" />
                                            <ComboBox SelectedIndex="{Binding Imposto.indIncentivo, ConverterParameter='-1', Converter={StaticResource valorAlterado}}"
                                                      Header="Incentivo fiscal *"
                                                      HorizontalAlignment="Stretch"
                                                      Margin="0,0,0,5">
                                                <ComboBoxItem>Sim</ComboBoxItem>
                                                <ComboBoxItem>Não</ComboBoxItem>
                                            </ComboBox>
                                            <ComboBox ItemsSource="{Binding ElementName=UFISSQN, Path=SelectedItem, Converter={StaticResource obterMunicipio}}"
                                                      Header="Município *"
                                                      SelectedValue="{Binding Path=Imposto.cMunFG, Mode=TwoWay}"
                                                      SelectedValuePath="CodigoMunicípio"
                                                      HorizontalAlignment="Stretch"
                                                      Margin="0,0,0,5">
                                                <ComboBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Nome}" />
                                                    </DataTemplate>
                                                </ComboBox.ItemTemplate>
                                            </ComboBox>
                                            <TextBox Text="{Binding Imposto.vDescIncond, Mode=TwoWay}"
                                                     Header="Valor desc. incondicionado"
                                                     Margin="0,0,0,5"
                                                     InputScope="Number" />
                                            <TextBox Text="{Binding Imposto.vDescCond, Mode=TwoWay}"
                                                     Header="Valor desc. condicionado"
                                                     Margin="0,0,0,5"
                                                     InputScope="Number" />
                                            <TextBox Text="{Binding Imposto.cServico, Mode=TwoWay}"
                                                     Header="Código do serviço"
                                                     Margin="0,0,0,5"
                                                     InputScope="Number" />
                                        </StackPanel>
                                        <CheckBox Grid.Row="1"
                                                  Grid.ColumnSpan="2"
                                                  Margin="0,0,0,5"
                                                  IsChecked="{Binding Exterior, Mode=TwoWay}">Serviço feito no exterior do país</CheckBox>
                                        <StackPanel Visibility="{Binding VisibilidadeMunicipioUFIncidencia}"
                                                    Grid.Row="2"
                                                    Margin="0,0,2,0">
                                            <ComboBox x:Name="UFIncidISSQN"
                                                      ItemsSource="{Binding Source={StaticResource estados}, Path=EstadosCompletos}"
                                                      Header="UF de incidência"
                                                      HorizontalAlignment="Stretch"
                                                      Margin="0,0,0,5">
                                                <ComboBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Nome, Mode=OneTime}" />
                                                    </DataTemplate>
                                                </ComboBox.ItemTemplate>
                                            </ComboBox>
                                        </StackPanel>
                                        <StackPanel Grid.Row="2"
                                                    Grid.Column="1"
                                                    Visibility="{Binding VisibilidadeMunicipioUFIncidencia}"
                                                    Margin="2,0,0,0">
                                            <ComboBox ItemsSource="{Binding ElementName=UFIncidISSQN, Path=SelectedItem, Converter={StaticResource obterMunicipio}}"
                                                      SelectedValue="{Binding Path=Imposto.cMun, Mode=TwoWay}"
                                                      SelectedValuePath="CodigoMunicípio"
                                                      Header="Município de incidência"
                                                      HorizontalAlignment="Stretch"
                                                      Margin="0,0,0,5">
                                                <ComboBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Nome}" />
                                                    </DataTemplate>
                                                </ComboBox.ItemTemplate>
                                            </ComboBox>
                                        </StackPanel>
                                        <StackPanel Visibility="{Binding VisibilidadeCodigoPais}"
                                                    Grid.Row="3"
                                                    Grid.ColumnSpan="2">
                                            <TextBox Text="{Binding Imposto.cPais, Mode=TwoWay}"
                                                     Header="Código do país - tabela do BACEN"
                                                     Margin="0,0,0,5"
                                                     InputScope="Number" />
                                        </StackPanel>
                                        <StackPanel Grid.Row="4"
                                                    Grid.ColumnSpan="2">
                                            <TextBox Text="{Binding Imposto.nProcesso, Mode=TwoWay}"
                                                     Header="Número do processo judicial ou administrativo"
                                                     Margin="0,0,0,5"
                                                     InputScope="Number" />
                                        </StackPanel>
                                    </Grid>
                                </ScrollViewer>
                            </Grid>
                        </PivotItem>
                        <PivotItem Header="Imposto de importação">
                            <Grid>
                                <Grid.DataContext>
                                    <Impostos:II />
                                </Grid.DataContext>
                                <ScrollViewer VerticalScrollBarVisibility="Hidden">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Margin="0,0,2,0">
                                            <TextBox Margin="0,0,0,10"
                                                     InputScope="Number"
                                                     Header="Valor da base de cálculo *"
                                                     Text="{Binding vBC, Mode=TwoWay}" />
                                            <TextBox InputScope="Number"
                                                     Header="Valor do IOF *"
                                                     Text="{Binding vIOF, Mode=TwoWay}" />
                                        </StackPanel>
                                        <StackPanel Grid.Column="1"
                                                    Margin="2,0,0,0">
                                            <TextBox Margin="0,0,0,10"
                                                     InputScope="Number"
                                                     Header="Valor despesas aduaneiras *"
                                                     Text="{Binding vDespAdu, Mode=TwoWay}" />
                                            <TextBox InputScope="Number"
                                                     Header="Valor do imposto *"
                                                     Text="{Binding vII, Mode=TwoWay}" />
                                        </StackPanel>
                                    </Grid>
                                </ScrollViewer>
                            </Grid>
                        </PivotItem>
                        <PivotItem Header="IPI Devolvido">
                            <Grid>
                                <Grid.DataContext>
                                    <Impostos:impostoDevol />
                                </Grid.DataContext>
                                <ScrollViewer VerticalScrollBarVisibility="Hidden">
                                    <StackPanel>
                                        <TextBox Header="Percentual da mercadoria devolvida *"
                                                 Margin="0,0,0,10"
                                                 Text="{Binding pDevol, Mode=TwoWay}"
                                                 InputScope="Number" />
                                        <TextBox Header="Valor do IPI devolvido *"
                                                 Text="{Binding IPI.vIPIDevol, Mode=TwoWay}"
                                                 InputScope="Number" />
                                    </StackPanel>
                                </ScrollViewer>
                            </Grid>
                        </PivotItem>
                        <PivotItem IsEnabled="{Binding AtivadopvtICMSInterestadual}"
                                   Header="ICMS interestadual">
                            <Grid>
                                <Grid.DataContext>
                                    <Impostos:ICMSUFDest />
                                </Grid.DataContext>
                                <ScrollViewer VerticalScrollBarVisibility="Hidden">
                                    <StackPanel>
                                        <TextBox Header="Percentual ICMS relativo ao FCP na UF de destino"
                                                 Text="{Binding pFCPUFDest, Mode=TwoWay}"
                                                 InputScope="Number" />
                                        <TextBox Header="Valor da base de cálculo na UF do destinatário"
                                                 Text="{Binding vBCUFDest, Mode=TwoWay}"
                                                 InputScope="Number" />
                                        <TextBox Header="Alíquota interna da UF do destinatário"
                                                 Text="{Binding pICMSUFDest, Mode=TwoWay}"
                                                 InputScope="Number" />
                                        <ComboBox Header="Alíquota interestadual"
                                                  SelectedIndex="{Binding AInterestadual, Mode=TwoWay}"
                                                  HorizontalAlignment="Stretch">
                                            <ComboBoxItem>4% alíquota interestadual para produtos importados</ComboBoxItem>
                                            <ComboBoxItem>7% para os Estados de origem do Sul e Sudeste (exceto ES), destinado para os Estados do Norte, Nordeste, Centro-Oeste e Espírito Santo</ComboBoxItem>
                                            <ComboBoxItem>12% para os demais casos</ComboBoxItem>
                                        </ComboBox>
                                        <ComboBox Header="Percentual provisório de partilha"
                                                  SelectedIndex="{Binding PPPartilha, Mode=TwoWay}"
                                                  HorizontalAlignment="Stretch">
                                            <ComboBoxItem>40% em 2016</ComboBoxItem>
                                            <ComboBoxItem>60% em 2017</ComboBoxItem>
                                            <ComboBoxItem>80% em 2018</ComboBoxItem>
                                            <ComboBoxItem>100% a partir de 2019</ComboBoxItem>
                                        </ComboBox>
                                        <TextBox Header="Valor ICMS de partilha para UF do destinatário"
                                                 Text="{Binding vICMSUFDest, Mode=TwoWay}"
                                                 InputScope="Number" />
                                        <TextBox Header="Valor ICMS de partilha para UF do remetente"
                                                 Text="{Binding vICMSUFRemet, Mode=TwoWay}"
                                                 InputScope="Number" />
                                        <TextBox Header="Valor ICMS relativo ao FCP da UF de destino"
                                                 Text="{Binding vFCPUFDest, Mode=TwoWay}"
                                                 InputScope="Number" />
                                    </StackPanel>
                                </ScrollViewer>
                            </Grid>
                        </PivotItem>
                    </Pivot>
                </Grid>
            </PivotItem>
            <PivotItem Header="Info adicional">
                <TextBox Text="{Binding ProdutoCompleto.infAdProd, Mode=TwoWay}"
                         TextWrapping="Wrap" />
            </PivotItem>
            <PivotItem Header="Importação">
                <ListView Style="{StaticResource PseudoTabela}" ItemsSource="{Binding ListaDI}">
                    <ListView.Header>
                        <Grid Style="{StaticResource Cabecalho}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <TextBlock Style="{StaticResource TextoCabecalho}">CNPJ</TextBlock>
                            <TextBlock Style="{StaticResource TextoCabecalho}" Grid.Column="1">Número do Documento</TextBlock>
                            <Button Grid.Column="1"
                                    Style="{StaticResource BotaoAdd}"
                                    Command="{Binding AdicionarDeclaracaoImportacaoCommand}"
                                    CommandParameter="{Binding RelativeSource={RelativeSource Mode=Self}}">
                                <SymbolIcon Symbol="Add" />
                            </Button>
                        </Grid>
                    </ListView.Header>
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Grid MinWidth="300">
                                <Grid.ContextFlyout>
                                    <MenuFlyout>
                                        <MenuFlyoutItem Command="{Binding ElementName=root, Path=DataContext.RemoverDeclaracaoImportacaoCommand}"
                                                        CommandParameter="{Binding RelativeSource={RelativeSource Mode=Self}}">Remover</MenuFlyoutItem>
                                    </MenuFlyout>
                                </Grid.ContextFlyout>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition />
                                    <ColumnDefinition />
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="{Binding CNPJ, Mode=TwoWay}" />
                                <TextBlock Text="{Binding nDI, Mode=TwoWay}"
                                           Grid.Column="1" />
                            </Grid>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </PivotItem>
            <PivotItem Header="Exportação">
                <ListView Style="{StaticResource PseudoTabela}" ItemsSource="{Binding ListaGE}">
                    <ListView.Header>
                        <Grid Style="{StaticResource Cabecalho}">
                            <TextBlock Style="{StaticResource TextoCabecalho}">Número do ato concessório de Drawback</TextBlock>
                            <Button Style="{StaticResource BotaoAdd}"
                                    Command="{Binding AdicionarDeclaracaoExportacaoCommand}"
                                    CommandParameter="{Binding RelativeSource={RelativeSource Mode=Self}}">
                                <SymbolIcon Symbol="Add" />
                            </Button>
                        </Grid>
                    </ListView.Header>
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Grid>
                                <Grid.ContextFlyout>
                                    <MenuFlyout>
                                        <MenuFlyoutItem Command="{Binding ElementName=root, Path=DataContext.RemoverDeclaracaoExportacaoCommand}"
                                                        CommandParameter="{Binding RelativeSource={RelativeSource Mode=Self}}">Remover</MenuFlyoutItem>
                                    </MenuFlyout>
                                </Grid.ContextFlyout>
                                <TextBlock Text="{Binding NDraw}" />
                            </Grid>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </PivotItem>
            <PivotItem Header="Produto específico">
                <ScrollViewer VerticalScrollBarVisibility="Hidden">
                    <StackPanel>
                        <ComboBox ItemsSource="{Binding ListaTiposEspeciaisProduto, Mode=OneTime}"
                                  SelectedItem="{Binding TipoEspecialProdutoSelecionado, Mode=TwoWay}"
                                  SelectedIndex="0"
                                  HorizontalAlignment="Stretch">
                            <ComboBoxItem>Produto simples</ComboBoxItem>
                            <ComboBoxItem>Veículo novo</ComboBoxItem>
                            <ComboBoxItem>Medicamento ou matéria-prima farmacêutica</ComboBoxItem>
                            <ComboBoxItem>Armamento</ComboBoxItem>
                            <ComboBoxItem>Combustível</ComboBoxItem>
                            <ComboBoxItem>Papel imune</ComboBoxItem>
                        </ComboBox>
                        <Grid Visibility="{Binding VisibilidadeVeiculoNovo, Converter={StaticResource visibilidade}}">
                            <ItemsControl DataContext="{Binding Veiculo}"
                                          Style="{StaticResource ItensResponsivos}">
                                <ComboBox SelectedIndex="{Binding tpOp, Mode=TwoWay}"
                                          Header="Tipo da operação"
                                          Margin="0,0,0,5"
                                          HorizontalAlignment="Stretch">
                                    <ComboBoxItem>Outros</ComboBoxItem>
                                    <ComboBoxItem>Venda concessionária</ComboBoxItem>
                                    <ComboBoxItem>Faturamento direto</ComboBoxItem>
                                    <ComboBoxItem>Venda direta</ComboBoxItem>
                                </ComboBox>
                                <TextBox Text="{Binding chassi, Mode=TwoWay}"
                                         Header="Chassi"
                                         Margin="0,0,0,5" />
                                <TextBox Text="{Binding cCor, Mode=TwoWay}"
                                         Header="Código da cor - Montadora"
                                         Margin="0,0,0,5" />
                                <TextBox Text="{Binding xCor, Mode=TwoWay}"
                                         Header="Descrição da cor"
                                         Margin="0,0,0,5" />
                                <TextBox Text="{Binding pot, Mode=TwoWay}"
                                         Header="Potência (CV)"
                                         Margin="0,0,0,5" />
                                <TextBox Text="{Binding cilin, Mode=TwoWay}"
                                         Header="Cilidradas (cm³)"
                                         Margin="0,0,0,5" />
                                <TextBox Text="{Binding pesoL, Mode=TwoWay}"
                                         Header="Peso líquido"
                                         Margin="0,0,0,5" />
                                <TextBox Text="{Binding pesoB, Mode=TwoWay}"
                                         Header="Peso bruto"
                                         Margin="0,0,0,5" />
                                <TextBox Text="{Binding nSerie,Mode=TwoWay}"
                                         Header="Série"
                                         Margin="0,0,0,5" />
                                <Slider Value="{Binding TpComb, Mode=TwoWay}"
                                        Minimum="01"
                                        Maximum="13"
                                        Header="Tipo de combustível"
                                        Margin="0,0,0,5" />
                                <TextBox Text="{Binding nMotor, Mode=TwoWay}"
                                         Header="Número do motor"
                                         Margin="0,0,0,5" />
                                <TextBox Text="{Binding CMT, Mode=TwoWay}"
                                         Header="Capacidade max. de tração"
                                         Margin="0,0,0,5" />
                                <TextBox Text="{Binding dist, Mode=TwoWay}"
                                         Header="Distância entre eixos"
                                         Margin="0,0,0,5" />
                                <TextBox Text="{Binding anoFab, Mode=TwoWay}"
                                         Header="Ano de fabricação"
                                         Margin="0,0,0,5" />
                                <TextBox Text="{Binding anoMod, Mode=TwoWay}"
                                         Header="Ano do modelo"
                                         Margin="0,0,0,5" />
                                <TextBox Text="{Binding tpPint, Mode=TwoWay}"
                                         Header="Tipo de pintura"
                                         Margin="0,0,0,5" />
                                <ComboBox SelectedValue="{Binding tpVeic, Mode=TwoWay}"
                                          Header="Tipo de veículo"
                                          Margin="0,0,0,5"
                                          HorizontalAlignment="Stretch">
                                    <ComboBoxItem>02</ComboBoxItem>
                                    <ComboBoxItem>03</ComboBoxItem>
                                    <ComboBoxItem>04</ComboBoxItem>
                                    <ComboBoxItem>05</ComboBoxItem>
                                    <ComboBoxItem>06</ComboBoxItem>
                                    <ComboBoxItem>07</ComboBoxItem>
                                    <ComboBoxItem>08</ComboBoxItem>
                                    <ComboBoxItem>10</ComboBoxItem>
                                    <ComboBoxItem>13</ComboBoxItem>
                                    <ComboBoxItem>14</ComboBoxItem>
                                    <ComboBoxItem>17</ComboBoxItem>
                                    <ComboBoxItem>22</ComboBoxItem>
                                    <ComboBoxItem>23</ComboBoxItem>
                                    <ComboBoxItem>24</ComboBoxItem>
                                </ComboBox>
                                <Slider Value="{Binding espVeic, Mode=TwoWay}"
                                        Minimum="1"
                                        Maximum="6"
                                        Header="Espécie de veículo"
                                        Margin="0,0,0,5" />
                                <CheckBox IsChecked="{Binding VINBool, Mode=TwoWay}">Chassi remarcado</CheckBox>
                                <ComboBox SelectedIndex="{Binding condVeic, Converter={StaticResource valorAlterado}, ConverterParameter='-1', Mode=TwoWay}"
                                          Header="Condição do veículo"
                                          Margin="0,0,0,5"
                                          HorizontalAlignment="Stretch">
                                    <ComboBoxItem>Acabado</ComboBoxItem>
                                    <ComboBoxItem>Inacabado</ComboBoxItem>
                                    <ComboBoxItem>Semi-acabado</ComboBoxItem>
                                </ComboBox>
                                <TextBox Text="{Binding cMod, Mode=TwoWay}"
                                         Header="Código da marca/modelo"
                                         Margin="0,0,0,5" />
                                <Slider Value="{Binding CCorDENATRAN,Mode=TwoWay}"
                                        Minimum="01"
                                        Maximum="16"
                                        Header="Código da cor - DENATRAN"
                                        Margin="0,0,0,5" />
                                <TextBox Text="{Binding lota,Mode=TwoWay}"
                                         Header="Lotação"
                                         Margin="0,0,0,5" />
                                <ComboBox SelectedIndex="{Binding TpRest, Mode=TwoWay}"
                                          Header="Restrição"
                                          Margin="0,0,0,5"
                                          HorizontalAlignment="Stretch">
                                    <ComboBoxItem>Não há</ComboBoxItem>
                                    <ComboBoxItem>Alienação fiduciária</ComboBoxItem>
                                    <ComboBoxItem>Arrendamento mercantil</ComboBoxItem>
                                    <ComboBoxItem>Reserva de domínio</ComboBoxItem>
                                    <ComboBoxItem>Penhor de veículos</ComboBoxItem>
                                    <ComboBoxItem>Outras</ComboBoxItem>
                                </ComboBox>
                            </ItemsControl>
                        </Grid>
                        <Grid Visibility="{Binding VisibilidadeMedicamento, Converter={StaticResource visibilidade}}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="2*" />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <StackPanel DataContext="{Binding NovoMedicamento}"
                                        Margin="0,0,2,0"
                                        Grid.RowSpan="2">
                                <TextBox Text="{Binding nLote, Mode=TwoWay}"
                                         Header="Número do Lote" />
                                <TextBox Text="{Binding qLote, Mode=TwoWay}"
                                         Header="Quantidade no lote" />
                                <DatePicker Date="{Binding dFab, Converter={StaticResource data}, ConverterParameter='yyyy-MM-dd', Mode=TwoWay}"
                                            Header="Data de fabricação" />
                                <DatePicker Date="{Binding dVal, Converter={StaticResource data}, ConverterParameter='yyyy-MM-dd', Mode=TwoWay}"
                                            Header="Data de validade" />
                                <TextBox Text="{Binding vPMC,Mode=TwoWay}"
                                         Header="Preço máximo consumidor" />
                            </StackPanel>
                            <ListView ItemsSource="{Binding ListaMedicamentos}"
                                      SelectedIndex="{Binding IndexMedicamentoSelecionado, Mode=TwoWay}"
                                      Grid.Column="1"
                                      Margin="2,0,0,0"
                                      Grid.Row="1">
                                <ListView.Header>
                                    <TextBlock Grid.Column="1">Número do lote</TextBlock>
                                </ListView.Header>
                                <ListView.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding nLote, Mode=OneTime}" />
                                    </DataTemplate>
                                </ListView.ItemTemplate>
                            </ListView>
                            <Button Grid.Row="2"
                                    Command="{Binding AdicionarMedicamentoCommand}"
                                    Margin="0,0,2,0"
                                    HorizontalAlignment="Stretch">Adicionar</Button>
                            <Button Grid.Row="2"
                                    Grid.Column="1"
                                    Command="{Binding RemoverMedicamentoCommand}"
                                    Margin="2,0,0,0"
                                    HorizontalAlignment="Stretch">Remover</Button>
                        </Grid>
                        <Grid Visibility="{Binding VisibilidadeArmamento, Converter={StaticResource visibilidade}}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="2*" />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <StackPanel DataContext="{Binding NovoArmamento}"
                                        Margin="0,0,2,0"
                                        Grid.RowSpan="2">
                                <ComboBox SelectedIndex="{Binding tpArma, Mode=TwoWay}"
                                          Header="Tipo de arma"
                                          HorizontalAlignment="Stretch">
                                    <ComboBoxItem>Uso permitido</ComboBoxItem>
                                    <ComboBoxItem>Uso restrito</ComboBoxItem>
                                </ComboBox>
                                <TextBox Text="{Binding nSerie, Mode=TwoWay}"
                                         Header="Série da arma" />
                                <TextBox Text="{Binding nCano, Mode=TwoWay}"
                                         Header="Série do cano" />
                                <TextBox Text="{Binding descr, Mode=TwoWay}"
                                         Header="Descrição" />
                            </StackPanel>
                            <ListView ItemsSource="{Binding ListaArmamento}"
                                      SelectedIndex="{Binding IndexArmamentoSelecionado, Mode=TwoWay}"
                                      Grid.Column="1"
                                      Margin="2,0,0,0"
                                      Grid.Row="1">
                                <ListView.Header>
                                    <TextBlock Grid.Column="1">Descrição</TextBlock>
                                </ListView.Header>
                                <ListView.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding descr, Mode=OneTime}"
                                                   TextWrapping="Wrap" />
                                    </DataTemplate>
                                </ListView.ItemTemplate>
                            </ListView>
                            <Button Grid.Row="2"
                                    Margin="0,0,2,0"
                                    Command="{Binding AdicionarArmamentoCommand}"
                                    HorizontalAlignment="Stretch">Adicionar</Button>
                            <Button Grid.Row="2"
                                    Grid.Column="1"
                                    Margin="2,0,0,0"
                                    Command="{Binding RemoverArmamentoCommand}"
                                    HorizontalAlignment="Stretch">Remover</Button>
                        </Grid>
                        <Grid Visibility="{Binding VisibilidadeCombustivel, Converter={StaticResource visibilidade}}">
                            <StackPanel DataContext="{Binding Comb}">
                                <TextBox Text="{Binding cProdANP, Mode=TwoWay}"
                                         Header="Código ANP *"
                                         Margin="0,0,0,5" />
                                <TextBox Text="{Binding CODIF, Mode=TwoWay}"
                                         Header="CODIF"
                                         Margin="0,0,0,5" />
                                <TextBox Text="{Binding qTemp, Mode=TwoWay}"
                                         Header="Quantidade faturada em temp. ambiente"
                                         Margin="0,0,0,5" />
                                <TextBox Text="{Binding pMixGN, Mode=TwoWay}"
                                         Header="Quantidade de gás natural"
                                         Margin="0,0,0,5" />
                                <ComboBox ItemsSource="{Binding Source={StaticResource estados}, Path=Siglas}"
                                          SelectedItem="{Binding UFCons, Mode=TwoWay}"
                                          Header="UF *"
                                          HorizontalAlignment="Stretch"
                                          Margin="0,0,0,5">
                                    <ComboBox.ItemTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Nome, Mode=OneTime}" />
                                        </DataTemplate>
                                    </ComboBox.ItemTemplate>
                                </ComboBox>
                                <TextBlock Margin="0,5,0,0"
                                           Style="{StaticResource SubtitleTextBlockStyle}">CIDE</TextBlock>
                                <TextBox Text="{Binding CIDE.qBCProd, Mode=TwoWay}"
                                         Header="Base de cálculo"
                                         Margin="0,0,0,5" />
                                <TextBox Text="{Binding CIDE.vAliqProd, Mode=TwoWay}"
                                         Header="Alíquota"
                                         Margin="0,0,0,5" />
                                <TextBox Text="{Binding CIDE.vCIDE, Mode=TwoWay}"
                                         Header="Valor" />
                            </StackPanel>
                        </Grid>
                        <TextBox Visibility="{Binding VisibilidadePapel, Converter={StaticResource visibilidade}}"
                                 Text="{Binding ProdutoCompleto.Produto.NRECOPI, Mode=TwoWay}"
                                 Header="Número de RECOPI" />
                    </StackPanel>
                </ScrollViewer>
            </PivotItem>
        </Pivot>
        <CommandBar Grid.Row="1">
            <AppBarButton Icon="Save"
                          Label="Salvar"
                          Click="Salvar_Click" />
            <AppBarButton Icon="Cancel"
                          Label="Cancelar"
                          Click="Cancelar_Click" />
        </CommandBar>
    </Grid>
</Page>
