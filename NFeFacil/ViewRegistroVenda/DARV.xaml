<Page x:Class="NFeFacil.ViewRegistroVenda.DARV"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="using:NFeFacil.ViewRegistroVenda"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      mc:Ignorable="d"
      RequestedTheme="Light">
    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <TextBlock>Dimensões atuais: <Run x:Name="txtLargura" />cm x <Run x:Name="txtAltura" />cm</TextBlock>
        <Grid x:Name="paiPagina"
              Grid.Row="1"
              BorderThickness="1"
              BorderBrush="Black">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />

                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />

                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />

                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />

                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />

                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <TextBlock Grid.ColumnSpan="2"
                       Text="{x:Bind Dados.Emitente.NomeFicticio}"
                       HorizontalAlignment="Center" />
            <TextBlock Grid.ColumnSpan="2"
                       Grid.Row="1">Endereço: <Run Text="{x:Bind Dados.Emitente.Endereco.Logradouro}" />, <Run Text="{x:Bind Dados.Emitente.Endereco.Numero}" /> - <Run Text="{x:Bind Dados.Emitente.Endereco.Bairro}" /></TextBlock>
            <TextBlock Grid.ColumnSpan="2"
                       Grid.Row="2">Telefone: <Run Text="{x:Bind Dados.Emitente.Endereco.Fone}" /></TextBlock>

            <TextBlock Grid.ColumnSpan="2"
                       Grid.Row="3"
                       HorizontalAlignment="Center">Cliente</TextBlock>
            <TextBlock Grid.Row="4">Nome: <Run Text="{x:Bind Dados.Cliente.Nome}" /></TextBlock>
            <TextBlock Grid.Column="1"
                       Grid.Row="4">Telefone: <Run Text="{x:Bind Dados.Cliente.Endereco.Fone}" /></TextBlock>
            <TextBlock Grid.ColumnSpan="2"
                       Grid.Row="5">Endereço: <Run Text="{x:Bind Dados.Cliente.Endereco.Logradouro}" />, <Run Text="{x:Bind Dados.Cliente.Endereco.Numero}" /> - <Run Text="{x:Bind Dados.Cliente.Endereco.Bairro}" /></TextBlock>

            <TextBlock Grid.ColumnSpan="2"
                       Grid.Row="6"
                       HorizontalAlignment="Center">Venda</TextBlock>
            <TextBlock Grid.ColumnSpan="2"
                       Grid.Row="7">ID: <Run Text="{x:Bind Dados.IdVenda}" /></TextBlock>
            <TextBlock Grid.ColumnSpan="2"
                       Grid.Row="8">Chave NFe relacionada: <Run Text="{x:Bind Dados.ChaveNFeRelacionada}" /></TextBlock>
            <TextBlock Grid.ColumnSpan="2"
                       Grid.Row="9">Data e hora: <Run Text="{x:Bind Dados.DataVenda}" /></TextBlock>
            <TextBlock Grid.Row="10">Vendedor: <Run Text="{x:Bind Dados.Vendedor}" /></TextBlock>
            <TextBlock Grid.Column="1"
                       Grid.Row="10">Motorista: <Run Text="{x:Bind Dados.Motorista}" /></TextBlock>

            <TextBlock Grid.ColumnSpan="2"
                       Grid.Row="11">Produtos</TextBlock>
            <ListView Grid.ColumnSpan="2"
                      Grid.Row="12"
                      ItemContainerStyle="{StaticResource ItemFullWidth}">
                <ListView.Header>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*" />
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Border BorderBrush="Black"
                                BorderThickness="1"
                                Grid.Column="0">
                            <TextBlock HorizontalAlignment="Center">Descrição</TextBlock>
                        </Border>
                        <Border BorderBrush="Black"
                                BorderThickness="1"
                                Grid.Column="1">
                            <TextBlock HorizontalAlignment="Center">Qtde</TextBlock>
                        </Border>
                        <Border BorderBrush="Black"
                                BorderThickness="1"
                                Grid.Column="2">
                            <TextBlock HorizontalAlignment="Center">Valor</TextBlock>
                        </Border>
                        <Border BorderBrush="Black"
                                BorderThickness="1"
                                Grid.Column="3">
                            <TextBlock HorizontalAlignment="Center">Total</TextBlock>
                        </Border>
                    </Grid>
                </ListView.Header>
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="2*" />
                                <ColumnDefinition />
                                <ColumnDefinition />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <Border BorderBrush="Black"
                                    BorderThickness="1"
                                    Grid.Column="0">
                                <TextBlock HorizontalAlignment="Center"
                                           Text="{Binding Descricao, Mode=OneTime}" />
                            </Border>
                            <Border BorderBrush="Black"
                                    BorderThickness="1"
                                    Grid.Column="1">
                                <TextBlock HorizontalAlignment="Center"
                                           Text="{Binding Quantidade, Mode=OneTime}" />
                            </Border>
                            <Border BorderBrush="Black"
                                    BorderThickness="1"
                                    Grid.Column="2">
                                <TextBlock HorizontalAlignment="Center"
                                           Text="{Binding Valor, Mode=OneTime}" />
                            </Border>
                            <Border BorderBrush="Black"
                                    BorderThickness="1"
                                    Grid.Column="3">
                                <TextBlock HorizontalAlignment="Center"
                                           Text="{Binding Total, Mode=OneTime}" />
                            </Border>
                        </Grid>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
            <TextBlock Grid.Row="13">Desconto: <Run Text="{x:Bind Dados.Desconto}" /></TextBlock>
            <TextBlock Grid.Column="1"
                       Grid.Row="13">Total: <Run Text="{x:Bind Dados.Total}" /></TextBlock>

            <TextBlock Grid.ColumnSpan="2"
                       Grid.Row="14"
                       HorizontalAlignment="Center">__________________________________________________</TextBlock>
            <TextBlock Grid.ColumnSpan="2"
                       Grid.Row="15"
                       HorizontalAlignment="Center"
                       Text="{x:Bind Dados.Cliente.Nome}" />

            <TextBlock Grid.ColumnSpan="2"
                       Grid.Row="16">Obervações: <Run Text="{x:Bind Dados.Observações}" /></TextBlock>
        </Grid>
    </Grid>
    <Page.BottomAppBar>
        <CommandBar>
            <AppBarButton Label="Redimensionar página">
                <AppBarButton.Icon>
                    <FontIcon Glyph="&#xE2B2;" />
                </AppBarButton.Icon>
            </AppBarButton>
            <AppBarButton Label="Imprimir">
                <AppBarButton.Icon>
                    <FontIcon Glyph="&#xE749;" />
                </AppBarButton.Icon>
            </AppBarButton>
        </CommandBar>
    </Page.BottomAppBar>
</Page>
